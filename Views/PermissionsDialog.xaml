<Window x:Class="VPSManager.Views.PermissionsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Change Permissions"
        Width="360" SizeToContent="Height"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        Background="#202123"
        ShowInTaskbar="False">

    <Border BorderBrush="#3E3E42" BorderThickness="1">
        <StackPanel>
            <!-- Header -->
            <Border Background="#18181B" Padding="16,12">
                <StackPanel>
                    <TextBlock Text="Change Permissions" FontSize="14" FontWeight="SemiBold" Foreground="#ECECF1"/>
                    <TextBlock x:Name="FileNameText" Text="filename" FontSize="11" Foreground="#8E8EA0" Margin="0,4,0,0"
                               TextTrimming="CharacterEllipsis"/>
                </StackPanel>
            </Border>

            <!-- Permissions Grid -->
            <StackPanel Margin="16">
                <!-- Octal Input -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                    <TextBlock Text="Octal:" Foreground="#ECECF1" FontWeight="Medium" FontSize="12"
                               VerticalAlignment="Center" Width="60"/>
                    <TextBox x:Name="OctalBox" Style="{StaticResource DarkTextBox}" Width="80"
                             Text="644" MaxLength="4" TextChanged="OctalBox_TextChanged"
                             FontFamily="Consolas"/>
                    <TextBlock x:Name="SymbolicText" Text="-rw-r--r--" Foreground="#8E8EA0"
                               FontFamily="Consolas" FontSize="12" VerticalAlignment="Center" Margin="16,0,0,0"/>
                </StackPanel>

                <!-- Permission Checkboxes -->
                <Border Background="#18181B" CornerRadius="6" Padding="12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <TextBlock Grid.Column="1" Text="Read" Foreground="#8E8EA0" FontSize="11" FontWeight="Medium" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="2" Text="Write" Foreground="#8E8EA0" FontSize="11" FontWeight="Medium" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="3" Text="Execute" Foreground="#8E8EA0" FontSize="11" FontWeight="Medium" HorizontalAlignment="Center"/>

                        <!-- Owner -->
                        <TextBlock Grid.Row="1" Text="Owner" Foreground="#ECECF1" FontSize="12" VerticalAlignment="Center" Margin="0,8,0,0"/>
                        <CheckBox x:Name="OwnerRead" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                        <CheckBox x:Name="OwnerWrite" Grid.Row="1" Grid.Column="2" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                        <CheckBox x:Name="OwnerExecute" Grid.Row="1" Grid.Column="3" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>

                        <!-- Group -->
                        <TextBlock Grid.Row="2" Text="Group" Foreground="#ECECF1" FontSize="12" VerticalAlignment="Center" Margin="0,8,0,0"/>
                        <CheckBox x:Name="GroupRead" Grid.Row="2" Grid.Column="1" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                        <CheckBox x:Name="GroupWrite" Grid.Row="2" Grid.Column="2" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                        <CheckBox x:Name="GroupExecute" Grid.Row="2" Grid.Column="3" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>

                        <!-- Others -->
                        <TextBlock Grid.Row="3" Text="Others" Foreground="#ECECF1" FontSize="12" VerticalAlignment="Center" Margin="0,8,0,0"/>
                        <CheckBox x:Name="OthersRead" Grid.Row="3" Grid.Column="1" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                        <CheckBox x:Name="OthersWrite" Grid.Row="3" Grid.Column="2" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                        <CheckBox x:Name="OthersExecute" Grid.Row="3" Grid.Column="3" HorizontalAlignment="Center" Margin="0,8,0,0"
                                  Checked="Permission_Changed" Unchecked="Permission_Changed"/>
                    </Grid>
                </Border>

                <!-- Common Presets -->
                <TextBlock Text="Common presets:" Foreground="#8E8EA0" FontSize="11" Margin="0,12,0,6"/>
                <WrapPanel>
                    <Button Content="644" Style="{StaticResource SecondaryButton}" Click="Preset_Click" Tag="644" Padding="10,4" Margin="0,0,6,6"/>
                    <Button Content="755" Style="{StaticResource SecondaryButton}" Click="Preset_Click" Tag="755" Padding="10,4" Margin="0,0,6,6"/>
                    <Button Content="777" Style="{StaticResource SecondaryButton}" Click="Preset_Click" Tag="777" Padding="10,4" Margin="0,0,6,6"/>
                    <Button Content="600" Style="{StaticResource SecondaryButton}" Click="Preset_Click" Tag="600" Padding="10,4" Margin="0,0,6,6"/>
                    <Button Content="700" Style="{StaticResource SecondaryButton}" Click="Preset_Click" Tag="700" Padding="10,4" Margin="0,0,6,6"/>
                </WrapPanel>
            </StackPanel>

            <!-- Buttons -->
            <Border Background="#18181B" Padding="16,12" BorderBrush="#3E3E42" BorderThickness="0,1,0,0">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Style="{StaticResource SecondaryButton}" Content="Cancel"
                            Click="Cancel_Click" Padding="14,6" Margin="0,0,8,0"/>
                    <Button Style="{StaticResource PrimaryButton}" Content="Apply"
                            Click="Apply_Click" Padding="14,6"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </Border>
</Window>
