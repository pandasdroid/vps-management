<Window x:Class="VPSManager.Views.VSCodeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="VS Code - Remote"
        Width="1200" Height="800"
        MinWidth="800" MinHeight="600"
        WindowState="Maximized"
        WindowStartupLocation="CenterScreen"
        Background="#1e1e1e">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Loading overlay -->
        <Border x:Name="LoadingOverlay" Grid.RowSpan="2" Background="#1e1e1e"
                Visibility="Visible" Panel.ZIndex="100">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="Starting code-server..." FontSize="18"
                           Foreground="#CCCCCC" HorizontalAlignment="Center"/>
                <TextBlock x:Name="StatusText" Text="Please wait..." FontSize="12"
                           Foreground="#888888" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                <ProgressBar IsIndeterminate="True" Width="200" Height="4" Margin="0,20,0,0"
                             Background="#333333" Foreground="#0078D4"/>
            </StackPanel>
        </Border>

        <!-- Toolbar -->
        <Border Grid.Row="0" Background="#333333" Padding="8,6">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="TitleText" Text="VS Code - Remote"
                           Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="Refresh" Click="Refresh_Click"
                            Background="#0078D4" Foreground="White"
                            BorderThickness="0" Padding="12,4" Margin="0,0,8,0" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        CornerRadius="3" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    <Button Content="Stop Server" Click="Stop_Click"
                            Background="#D41A1A" Foreground="White"
                            BorderThickness="0" Padding="12,4" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        CornerRadius="3" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- WebView -->
        <wv2:WebView2 x:Name="WebView" Grid.Row="1"/>
    </Grid>
</Window>
